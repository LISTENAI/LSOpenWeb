---
title: 编译
sidebar_position: 4
---

编译分为 __固件应用编译__ 和 __文件系统镜像打包__ ，并另外设计单条命令对这两块一并执行。开发者可以选择整体编译或单独执行某一步骤，来满足不同的编译场景。

### 命令


__编译__(包含 __固件应用编译__ 和 __文件系统镜像打包__)
```shell
lisa zep build
```

__固件应用编译__
```shell
lisa zep app:build
```

__文件系统镜像打包__
```shell
lisa zep fs:build
```

__选项__

|  参数   | 描述  |
|  ----   | ----  |
| -h | 打印帮助 |
|  <path\>   | 编译项目路径 |
| -d, --build-dir <path\>  | 构建产物目录，默认为当前执行命令目录 |
| -b, --board <name\> | 要构建的板型 |
| -c, --clean | 构建前清除构建产物(全新构建) |
| --env <name\> | 指定当次编译有效编译环境 |

## 示例

### 直接编译

__命令__

```shell
lisa zep build -b csk6001
```

__解释__

该命令基于当前已设置的编译环境 env，对__当前执行目录__作为编译的项目，编译出适用于`csk6001`这块板型的固件，并将编译产物输出到当前执行命令的目录下的`build`文件夹内。

### 指定目录编译

__命令__

```shell
lisa zep build ./my-zephyr-project -b csk6001
```

__解释__

该命令指定`my-zephyr-project`为需要编译的项目，其编译结果与__直接编译__一致。

### 全新编译构建

__命令__

```shell
lisa zep build ./my-else-zephyr-project -b csk6001 --chean 
```
__解释__

该命令在执行编译之前，会将当前执行命令的目录下的`build`文件夹内的产物清除，重新编译，其编译结果与 __指定目录编译__ 一致。
